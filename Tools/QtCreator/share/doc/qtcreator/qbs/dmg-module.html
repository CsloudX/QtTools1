<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- dmg-module.qdoc -->
  <title>Module dmg | Qbs Manual</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
  <div class="main">
    <div class="main-rounded">
      <div class="navigationbar">
        <table><tr>
<td ><a href="index.html">Qbs Manual</a></td><td ><a href="list-of-modules.html">List of Modules</a></td><td >Module dmg</td></tr></table><table class="buildversion"><tr>
<td id="buildversion" width="100%" align="right">Qbs 1.10.0</td>
        </tr></table>
      </div>
    </div>
<div class="content">
<div class="line">
<div class="content mainContent">
<p class="naviNextPrevious headerNavi">
</p><p/>
<div class="sidebar">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#general-properties">General Properties</a></li>
<li class="level1"><a href="#appearance-properties">Appearance Properties</a></li>
<li class="level1"><a href="#license-properties">License Properties</a></li>
<li class="level1"><a href="#advanced-properties">Advanced Properties</a></li>
<li class="level1"><a href="#relevant-file-tags">Relevant File Tags</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Module dmg</h1>
<span class="subtitle"></span>
<!-- $$$dmg-module.html-description -->
<div class="descr"> <a name="details"></a>
<p>The <code>dmg</code> module contains properties and rules for building Apple Disk Images, which are typically used to distribute applications and installers on macOS.</p>
<p>This module is only available on Apple platforms.</p>
<a name="general-properties"></a>
<h2 id="general-properties">General Properties</h2>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Property</th><th >Type</th><th >Since</th><th >Default</th><th >Description</th></tr></thead>
<tr valign="top" class="odd"><td >volumeName</td><td ><code>string</code></td><td >1.9</td><td ><code>product.targetName</code></td><td >The name of the disk image which displayed in Finder when the DMG is mounted.</td></tr>
<tr valign="top" class="even"><td >badgeVolumeIcon</td><td ><code>bool</code></td><td >1.9</td><td ><code>false</code></td><td >Whether to render the user-supplied icon (see the <code>&quot;icns&quot;</code> file tag documentation) on top of the default volume icon instead of using it directly. This generally gives the disk image icon a better and more consistent appearance.</td></tr>
<tr valign="top" class="odd"><td >format</td><td ><code>string</code></td><td >1.9</td><td ><code>&quot;UDBZ&quot;</code></td><td >The format to create the disk image in. Allowed values include but are not limited to <code>&quot;UDZO&quot;</code>, <code>&quot;UDBZ&quot;</code> and <code>&quot;ULFO&quot;</code>.</td></tr>
<tr valign="top" class="even"><td >compressionLevel</td><td ><code>int</code></td><td >1.9</td><td >9 in release mode, otherwise undefined</td><td >Sets the zlib, bzip2, or lzfse compression level for UDZO, UDBZ, or ULFO disk images.</td></tr>
<tr valign="top" class="odd"><td >sourceBase</td><td ><code>string</code></td><td >1.9</td><td ><code>undefined</code></td><td >Specifies the base directory of the files that are going to be embedded in the DMG (see the <code>&quot;dmg.input&quot;</code> file tag documentation). The source base directory is omitted from the target directory path of the DMG directory. The default value of this property is the directory of the current file to be embedded, relative to the product's source directory.</td></tr>
</table></div>
<a name="appearance-properties"></a>
<h2 id="appearance-properties">Appearance Properties</h2>
<p>Properties in this section are used to control the contents of the .<a href="qbs-attribution-ds-store.html#ds-store">DS_Store</a> file and its embedded Alias and Bookmark records, that will be generated by Qbs in order to control the appearance of the disk image when mounted in Finder.</p>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Property</th><th >Type</th><th >Since</th><th >Default</th><th >Description</th></tr></thead>
<tr valign="top" class="odd"><td >backgroundColor</td><td ><code>string</code></td><td >1.9</td><td ><code>undefined</code></td><td >Specifies the background color of the disk image as seen when mounted in Finder. Refer to the <a href="https://dmgbuild.readthedocs.io/en/latest/settings.html#background">dmgbuild documentation</a> for the full list of supported color names and formats. To use an image for the background instead, refer to the <code>&quot;tiff&quot;</code> file tag documentation.</td></tr>
<tr valign="top" class="even"><td >iconSize</td><td ><code>int</code></td><td >1.9</td><td ><code>128</code></td><td >Specifies the width and height of the file icons as seen when the disk image is mounted in Finder.</td></tr>
<tr valign="top" class="odd"><td >windowX</td><td ><code>int</code></td><td >1.9</td><td ><code>100</code></td><td >Specifies the X position of the Finder window that displays the disk image contents when it is mounted.</td></tr>
<tr valign="top" class="even"><td >windowY</td><td ><code>int</code></td><td >1.9</td><td ><code>100</code></td><td >Specifies the Y position of the Finder window that displays the disk image contents when it is mounted.</td></tr>
<tr valign="top" class="odd"><td >windowWidth</td><td ><code>int</code></td><td >1.9</td><td ><code>640</code></td><td >Specifies the width of the Finder window that displays the disk image contents when it is mounted.</td></tr>
<tr valign="top" class="even"><td >windowHeight</td><td ><code>int</code></td><td >1.9</td><td ><code>480</code></td><td >Specifies the height of the Finder window that displays the disk image contents when it is mounted. Note that the window height includes the height of the standard macOS title bar (22 points).</td></tr>
<tr valign="top" class="odd"><td >iconPositions</td><td ><code>list</code></td><td >1.9</td><td ><code>undefined</code> List of objects containing <code>path</code>, <code>x</code>, and <code>y</code> properties, which correspond to disk image-relative file paths and visual coordinates of file icons in the disk image as seen when it is mounted in Finder. For example:<pre class="cpp">

  dmg<span class="operator">.</span>iconPositions: <span class="operator">[</span>
      {<span class="string">&quot;path&quot;</span>: <span class="string">&quot;Applications&quot;</span><span class="operator">,</span> <span class="string">&quot;x&quot;</span>: <span class="number">128</span><span class="operator">,</span> <span class="string">&quot;y&quot;</span>: <span class="number">128</span>}<span class="operator">,</span>
      {<span class="string">&quot;path&quot;</span>: <span class="string">&quot;Foo Bar.app&quot;</span><span class="operator">,</span> <span class="string">&quot;x&quot;</span>: <span class="number">256</span><span class="operator">,</span> <span class="string">&quot;y&quot;</span>: <span class="number">128</span>}
  <span class="operator">]</span>

</pre>
<p>This property is useful for specifying the positions of files where you do not have direct control over the corresponding Qbs artifact, or there is no corresponding Qbs artifact (for example, &quot;Foo Bar.app&quot; is a directory, which has no equivalent artifact in the build graph). For files to which you are directly applying the <code>dmg.input</code> file tag, you should use the <code>dmg.iconX</code> and <code>dmg.iconY</code> properties instead.</p>
</td></tr>
<tr valign="top" class="even"><td >iconX</td><td ><code>int</code></td><td >1.9</td><td ><code>windowWidth / 2</code></td><td >X position of the file icon in the Finder window that displayed the disk image contents when it is mounted. This property is only useful with artifacts tagged <code>dmg.input</code> and cannot be used at the product level to affect all files. If you do not have access to the artifact corresponding to the file whose position you want to set, use the <code>dmg.iconPositions</code> property instead.</td></tr>
<tr valign="top" class="odd"><td >iconY</td><td ><code>int</code></td><td >1.9</td><td ><code>windowHeight / 2</code></td><td >Y position of the file icon in the Finder window that displayed the disk image contents when it is mounted. This property is only useful with artifacts tagged <code>dmg.input</code> and cannot be used at the product level to affect all files. If you do not have access to the artifact corresponding to the file whose position you want to set, use the <code>dmg.iconPositions</code> property instead.</td></tr>
</table></div>
<a name="license-properties"></a>
<h2 id="license-properties">License Properties</h2>
<p>Properties in this section are used to control the content and appearance of the license prompt displayed when a user attempts to mount the resulting disk image via Finder.</p>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Property</th><th >Type</th><th >Since</th><th >Default</th><th >Description</th></tr></thead>
<tr valign="top" class="odd"><td >defaultLicenseLocale</td><td ><code>string</code></td><td >1.9</td><td ><code>&quot;en_US&quot;</code></td><td >Locale of the default license to display when there is no license whose locale matches the system locale.</td></tr>
<tr valign="top" class="even"><td >licenseLocale</td><td ><code>string</code></td><td >1.9</td><td >determined automatically</td><td >Locale of the license file. Defaults to a value guess from the file path, specifically the base name of any .lproj directory found in the file's path. If the locale could not be determined from the file path and this property is not set, an error will be emitted. This property is only useful with artifacts tagged <code>dmg.license.input</code> and cannot be used at the product level to affect all files.</td></tr>
<tr valign="top" class="odd"><td >licenseLanguageName</td><td ><code>string</code></td><td >1.9</td><td ><code>&quot;English&quot;</code></td><td >Name of the language associated with the license file, localized for that language. This property is only useful with artifacts tagged <code>dmg.license.input</code> and cannot be used at the product level to affect all files.</td></tr>
<tr valign="top" class="even"><td >licenseAgreeButtonText</td><td ><code>string</code></td><td >1.9</td><td ><code>&quot;Agree&quot;</code></td><td >Text shown on the &quot;Agree&quot; button associated with the license file, localized for that language. This property is only useful with artifacts tagged <code>dmg.license.input</code> and cannot be used at the product level to affect all files.</td></tr>
<tr valign="top" class="odd"><td >licenseDisagreeButtonText</td><td ><code>string</code></td><td >1.9</td><td ><code>&quot;Disagree&quot;</code></td><td >Text shown on the &quot;Disagree&quot; button associated with the license file, localized for that language. This property is only useful with artifacts tagged <code>dmg.license.input</code> and cannot be used at the product level to affect all files.</td></tr>
<tr valign="top" class="even"><td >licensePrintButtonText</td><td ><code>string</code></td><td >1.9</td><td ><code>&quot;Print&quot;</code></td><td >Text shown on the &quot;Print&quot; button associated with the license file, localized for that language. This property is only useful with artifacts tagged <code>dmg.license.input</code> and cannot be used at the product level to affect all files.</td></tr>
<tr valign="top" class="odd"><td >licenseSaveButtonText</td><td ><code>string</code></td><td >1.9</td><td ><code>&quot;Save&quot;</code></td><td >Text shown on the &quot;Save&quot; button associated with the license file, localized for that language. This property is only useful with artifacts tagged <code>dmg.license.input</code> and cannot be used at the product level to affect all files.</td></tr>
<tr valign="top" class="even"><td >licenseInstructionText</td><td ><code>string</code></td><td >1.9</td><td ><code>&quot;If you agree with the terms of this license, press \&quot;Agree\&quot; to install the software. If you do not agree, press \&quot;Disagree\&quot;.&quot;</code></td><td >Instruction text associated with the license file that will be shown on the license dialog, localized for that language. This property is only useful with artifacts tagged <code>dmg.license.input</code> and cannot be used at the product level to affect all files.</td></tr>
</table></div>
<a name="advanced-properties"></a>
<h2 id="advanced-properties">Advanced Properties</h2>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Property</th><th >Type</th><th >Since</th><th >Default</th><th >Description</th></tr></thead>
<tr valign="top" class="odd"><td >dmgSuffix</td><td ><code>string</code></td><td >1.9</td><td ><code>&quot;.dmg&quot;</code></td><td >File extension for disk images. This should not normally need to be changed.</td></tr>
<tr valign="top" class="even"><td >hdiutilPath</td><td ><code>string</code></td><td >1.9</td><td ><code>&quot;/usr/bin/hdiutil&quot;</code></td><td >Path to the hdiutil binary used to perform disk image related operations. This should not normally need to be changed.</td></tr>
<tr valign="top" class="odd"><td >textutilPath</td><td ><code>string</code></td><td >1.9</td><td ><code>&quot;/usr/bin/textutil&quot;</code></td><td >Path to the textutil binary used to convert license agreement files to rich text format. This should not normally need to be changed.</td></tr>
</table></div>
<a name="relevant-file-tags"></a>
<h2 id="relevant-file-tags">Relevant File Tags</h2>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Tag</th><th >Auto-tagged File Names</th><th >Since</th><th >Description</th></tr></thead>
<tr valign="top" class="odd"><td ><code>&quot;dmg.input&quot;</code></td><td >n/a</td><td >1.9</td><td >If the product contains files with this tag, they will be copied into the disk image. See the <code>sourceBase</code> property to learn how to control the destination directory and hierarchy of copied files within the disk image.</td></tr>
<tr valign="top" class="even"><td ><code>&quot;dmg.license.input&quot;</code></td><td ><code>*.txt</code>, <code>*.rtf</code>, <code>*.html</code>, <code>*.doc</code>, <code>*.docx</code>, <code>*.odt</code>, <code>*.xml</code>, <code>*.webarchive</code></td><td >1.9</td><td >If the product contains files with this tag, they will be converted into rich text and used for the license prompt when mounting the DMG.</td></tr>
<tr valign="top" class="odd"><td ><code>&quot;icns&quot;</code></td><td ><code>*.icns</code></td><td >1.3</td><td >If the product contains a file with this tag, it will be added as the Apple Disk Image volume icon, which will show up in the Finder as an overlay on the file icon.</td></tr>
<tr valign="top" class="even"><td ><code>&quot;tiff&quot;</code></td><td ><code>*.tif</code>, <code>*.tiff</code></td><td >1.9</td><td >If the product contains a file with this tag, it will be used as the background image of the directory as shown in Finder when the DMG file is mounted.</td></tr>
</table></div>
</div>
<!-- @@@dmg-module.html -->
<p class="naviNextPrevious footerNavi">
</p>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2017 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br>    Qt and respective logos are trademarks of The Qt Company Ltd.     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
