<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- command.cpp -->
  <title>Command Class | Extending Qt Creator Manual</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
  <div class="main">
    <div class="main-rounded">
      <div class="navigationbar">
        <table><tr>
<td ><a href="extending-index.html">Extending Qt Creator Manual</a></td><td >Command</td></tr></table><table class="buildversion"><tr>
<td id="buildversion" width="100%" align="right">Extending Qt Creator Manual 4.5.0</td>
        </tr></table>
      </div>
    </div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#public-types">Public Types</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#signals">Signals</a></li>
<li class="level1"><a href="#static-public-members">Static Public Members</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Command Class</h1>
<span class="small-subtitle">(<a href="core-command.html">Core::Command</a>)<br/></span>
<!-- $$$Command-brief -->
<p>The Command class represents an action, such as a menu item, tool button, or shortcut. You do not create Command objects directly, but use <a href="core-actionmanager.html#registerAction">ActionManager::registerAction</a>() to register an action and retrieve a Command. The Command object represents the user visible action and its properties. If multiple actions are registered with the same ID (but different contexts) the returned Command is the shared one between these actions. <a href="#details">More...</a></p>
<!-- @@@Command -->
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign">   <span class="preprocessor">#include &lt;Command&gt;</span>
</td></tr></table></div><ul>
<li><a href="core-command-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h2 id="public-types">Public Types</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#CommandAttribute-enum">CommandAttribute</a></b> { CA_UpdateText, CA_UpdateIcon, CA_Hide, CA_NonConfigurable }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> flags </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#CommandAttribute-enum">CommandAttributes</a></b></td></tr>
</table></div>
<a name="public-functions"></a>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> virtual QAction *</td><td class="memItemRight bottomAlign"><b><a href="core-command.html#action">action</a></b>() const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#augmentActionWithShortcutToolTip">augmentActionWithShortcutToolTip</a></b>(QAction *<i>action</i>) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual Context </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#context">context</a></b>() const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QKeySequence </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#defaultKeySequence">defaultKeySequence</a></b>() const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QString </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#description">description</a></b>() const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#hasAttribute">hasAttribute</a></b>(CommandAttribute <i>attribute</i>) const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#isActive">isActive</a></b>() const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#isScriptable">isScriptable</a></b>() const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#isScriptable-1">isScriptable</a></b>(<i>const Context &amp;</i>) const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QKeySequence </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#keySequence">keySequence</a></b>() const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#removeAttribute">removeAttribute</a></b>(CommandAttribute <i>attribute</i>) = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#setAttribute">setAttribute</a></b>(CommandAttribute <i>attribute</i>) = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#setDefaultKeySequence">setDefaultKeySequence</a></b>(const QKeySequence &amp;<i>key</i>) = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#setDescription">setDescription</a></b>(const QString &amp;<i>text</i>) = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QString </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#stringWithAppendedShortcut">stringWithAppendedShortcut</a></b>(const QString &amp;<i>string</i>) const = 0</td></tr>
</table></div>
<a name="signals"></a>
<h2 id="signals">Signals</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#activeStateChanged">activeStateChanged</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="core-command.html#keySequenceChanged">keySequenceChanged</a></b>()</td></tr>
</table></div>
<a name="static-public-members"></a>
<h2 id="static-public-members">Static Public Members</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> QToolButton *</td><td class="memItemRight bottomAlign"><b><a href="core-command.html#toolButtonWithAppendedShortcut">toolButtonWithAppendedShortcut</a></b>(QAction *<i>action</i>, Command *<i>cmd</i>)</td></tr>
</table></div>
<a name="details"></a>
<!-- $$$Command-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<p>The Command class represents an action, such as a menu item, tool button, or shortcut. You do not create Command objects directly, but use <a href="core-actionmanager.html#registerAction">ActionManager::registerAction</a>() to register an action and retrieve a Command. The Command object represents the user visible action and its properties. If multiple actions are registered with the same ID (but different contexts) the returned Command is the shared one between these actions.</p>
<p>A Command has two basic properties: a default shortcut and a default text. The default shortcut is a key sequence that the user can use to trigger the active action that the Command represents. The default text is e.g&#x2e; used for representing the Command in the keyboard shortcut preference pane. If the default text is empty, the text of the visible action is used.</p>
<p>The user visible action is updated to represent the state of the active action (if any). For performance reasons only the enabled and visible state are considered by default though. You can tell a Command to also update the actions icon and text by setting the corresponding <a href="core-command.html#CommandAttribute-enum">attribute</a>.</p>
<p>If there is no active action, the default behavior of the visible action is to be disabled. You can change that behavior to make the visible action hide instead via the Command's <a href="core-command.html#CommandAttribute-enum">attributes</a>.</p>
</div>
<!-- @@@Command -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$CommandAttribute$$$CA_Hide$$$CA_UpdateText$$$CA_UpdateIcon$$$CA_NonConfigurable -->
<h3 class="flags" id="CommandAttribute-enum"><a name="CommandAttribute-enum"></a>enum Command::<span class="name">CommandAttribute</span><br/>flags Command::<span class="name">CommandAttributes</span></h3>
<p>This enum defines how the user visible action is updated when the active action changes. The default is to update the enabled and visible state, and to disable the user visible action when there is no active action.</p>
<div class="table"><table class="valuelist"><tr valign="top" class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code>Core::Command::CA_UpdateText</code></td><td class="topAlign tblval"><code>2</code></td><td class="topAlign">Also update the actions text.</td></tr>
<tr><td class="topAlign"><code>Core::Command::CA_UpdateIcon</code></td><td class="topAlign tblval"><code>4</code></td><td class="topAlign">Also update the actions icon.</td></tr>
<tr><td class="topAlign"><code>Core::Command::CA_Hide</code></td><td class="topAlign tblval"><code>1</code></td><td class="topAlign">When there is no active action, hide the user &quot;visible&quot; action, instead of just disabling it.</td></tr>
<tr><td class="topAlign"><code>Core::Command::CA_NonConfigurable</code></td><td class="topAlign tblval"><code>8</code></td><td class="topAlign">Flag to indicate that the keyboard shortcut of this Command should not be configurable by the user.</td></tr>
</table></div>
<p>The CommandAttributes type is a typedef for <a href="">QFlags</a>&lt;CommandAttribute&gt;. It stores an OR combination of CommandAttribute values.</p>
<!-- @@@CommandAttribute -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$action[overload1]$$$action -->
<h3 class="fn" id="action"><a name="action"></a><code>[pure virtual] </code><span class="type">QAction</span> *Command::<span class="name">action</span>() const</h3>
<p>Returns the user visible action for this Command. If the Command represents a shortcut, it returns null. Use this action to put it on e.g&#x2e; tool buttons. The action automatically forwards trigger and toggle signals to the action that is currently active for this Command. It also shows the current keyboard shortcut in its tool tip (in addition to the tool tip of the active action) and gets disabled/hidden when there is no active action for the current context.</p>
<!-- @@@action -->
<!-- $$$activeStateChanged[overload1]$$$activeStateChanged -->
<h3 class="fn" id="activeStateChanged"><a name="activeStateChanged"></a><code>[signal] </code><span class="type">void</span> Command::<span class="name">activeStateChanged</span>()</h3>
<!-- @@@activeStateChanged -->
<!-- $$$augmentActionWithShortcutToolTip[overload1]$$$augmentActionWithShortcutToolTipQAction* -->
<h3 class="fn" id="augmentActionWithShortcutToolTip"><a name="augmentActionWithShortcutToolTip"></a><span class="type">void</span> Command::<span class="name">augmentActionWithShortcutToolTip</span>(<span class="type">QAction</span> *<i>action</i>) const</h3>
<!-- @@@augmentActionWithShortcutToolTip -->
<!-- $$$context[overload1]$$$context -->
<h3 class="fn" id="context"><a name="context"></a><code>[pure virtual] </code><span class="type"><a href="core-context.html">Context</a></span> Command::<span class="name">context</span>() const</h3>
<!-- @@@context -->
<!-- $$$defaultKeySequence[overload1]$$$defaultKeySequence -->
<h3 class="fn" id="defaultKeySequence"><a name="defaultKeySequence"></a><code>[pure virtual] </code><span class="type">QKeySequence</span> Command::<span class="name">defaultKeySequence</span>() const</h3>
<p>Returns the default keyboard shortcut that can be used to activate this command.</p>
<p><b>See also </b><a href="core-command.html#setDefaultKeySequence">setDefaultKeySequence</a>().</p>
<!-- @@@defaultKeySequence -->
<!-- $$$description[overload1]$$$description -->
<h3 class="fn" id="description"><a name="description"></a><code>[pure virtual] </code><span class="type">QString</span> Command::<span class="name">description</span>() const</h3>
<p>Returns the text that is used to present this Command to the user.</p>
<p><b>See also </b><a href="core-command.html#setDescription">setDescription</a>().</p>
<!-- @@@description -->
<!-- $$$hasAttribute[overload1]$$$hasAttributeCommandAttribute -->
<h3 class="fn" id="hasAttribute"><a name="hasAttribute"></a><code>[pure virtual] </code><span class="type">bool</span> Command::<span class="name">hasAttribute</span>(<span class="type"><a href="core-command.html#CommandAttribute-enum">CommandAttribute</a></span> <i>attribute</i>) const</h3>
<p>Returns whether the Command has the <i>attribute</i> set.</p>
<p><b>See also </b><a href="core-command.html#CommandAttribute-enum">CommandAttribute</a>, <a href="core-command.html#removeAttribute">removeAttribute</a>(), and <a href="core-command.html#setAttribute">setAttribute</a>().</p>
<!-- @@@hasAttribute -->
<!-- $$$isActive[overload1]$$$isActive -->
<h3 class="fn" id="isActive"><a name="isActive"></a><code>[pure virtual] </code><span class="type">bool</span> Command::<span class="name">isActive</span>() const</h3>
<p>Returns whether the Command has an active action or shortcut for the current context.</p>
<!-- @@@isActive -->
<!-- $$$isScriptable[overload1]$$$isScriptable -->
<h3 class="fn" id="isScriptable"><a name="isScriptable"></a><code>[pure virtual] </code><span class="type">bool</span> Command::<span class="name">isScriptable</span>() const</h3>
<p>Returns whether the Command is scriptable. A scriptable command can be called from a script without the need for the user to interact with it.</p>
<!-- @@@isScriptable -->
<!-- $$$isScriptable$$$isScriptableconstContext& -->
<h3 class="fn" id="isScriptable-1"><a name="isScriptable-1"></a><code>[pure virtual] </code><span class="type">bool</span> Command::<span class="name">isScriptable</span>(<i>const Context &amp;</i>) const</h3>
<p>Returns whether the Command is scriptable for the given context. A scriptable command can be called from a script without the need for the user to interact with it.</p>
<!-- @@@isScriptable -->
<!-- $$$keySequence[overload1]$$$keySequence -->
<h3 class="fn" id="keySequence"><a name="keySequence"></a><code>[pure virtual] </code><span class="type">QKeySequence</span> Command::<span class="name">keySequence</span>() const</h3>
<p>Returns the current keyboard shortcut assigned to this Command.</p>
<p><b>See also </b><a href="core-command.html#defaultKeySequence">defaultKeySequence</a>().</p>
<!-- @@@keySequence -->
<!-- $$$keySequenceChanged[overload1]$$$keySequenceChanged -->
<h3 class="fn" id="keySequenceChanged"><a name="keySequenceChanged"></a><code>[signal] </code><span class="type">void</span> Command::<span class="name">keySequenceChanged</span>()</h3>
<p>Sent when the keyboard shortcut assigned to this Command changes, e.g&#x2e; when the user sets it in the keyboard shortcut settings dialog.</p>
<!-- @@@keySequenceChanged -->
<!-- $$$removeAttribute[overload1]$$$removeAttributeCommandAttribute -->
<h3 class="fn" id="removeAttribute"><a name="removeAttribute"></a><code>[pure virtual] </code><span class="type">void</span> Command::<span class="name">removeAttribute</span>(<span class="type"><a href="core-command.html#CommandAttribute-enum">CommandAttribute</a></span> <i>attribute</i>)</h3>
<p>Removes <i>attribute</i> from the attributes of this Command.</p>
<p><b>See also </b><a href="core-command.html#CommandAttribute-enum">CommandAttribute</a> and <a href="core-command.html#setAttribute">setAttribute</a>().</p>
<!-- @@@removeAttribute -->
<!-- $$$setAttribute[overload1]$$$setAttributeCommandAttribute -->
<h3 class="fn" id="setAttribute"><a name="setAttribute"></a><code>[pure virtual] </code><span class="type">void</span> Command::<span class="name">setAttribute</span>(<span class="type"><a href="core-command.html#CommandAttribute-enum">CommandAttribute</a></span> <i>attribute</i>)</h3>
<p>Adds <i>attribute</i> to the attributes of this Command.</p>
<p><b>See also </b><a href="core-command.html#CommandAttribute-enum">CommandAttribute</a>, <a href="core-command.html#removeAttribute">removeAttribute</a>(), and <a href="core-command.html#hasAttribute">hasAttribute</a>().</p>
<!-- @@@setAttribute -->
<!-- $$$setDefaultKeySequence[overload1]$$$setDefaultKeySequenceconstQKeySequence& -->
<h3 class="fn" id="setDefaultKeySequence"><a name="setDefaultKeySequence"></a><code>[pure virtual] </code><span class="type">void</span> Command::<span class="name">setDefaultKeySequence</span>(const <span class="type">QKeySequence</span> &amp;<i>key</i>)</h3>
<p>Sets the default keyboard shortcut that can be used to activate this command to <i>key</i>. This is used if the user didn't customize the shortcut, or resets the shortcut to the default one.</p>
<p><b>See also </b><a href="core-command.html#defaultKeySequence">defaultKeySequence</a>().</p>
<!-- @@@setDefaultKeySequence -->
<!-- $$$setDescription[overload1]$$$setDescriptionconstQString& -->
<h3 class="fn" id="setDescription"><a name="setDescription"></a><code>[pure virtual] </code><span class="type">void</span> Command::<span class="name">setDescription</span>(const <span class="type">QString</span> &amp;<i>text</i>)</h3>
<p>Sets the <i>text</i> that is used to represent the Command in the keyboard shortcut settings dialog. If you do not set this, the current text from the user visible action is taken (which is fine in many cases).</p>
<p><b>See also </b><a href="core-command.html#description">description</a>().</p>
<!-- @@@setDescription -->
<!-- $$$stringWithAppendedShortcut[overload1]$$$stringWithAppendedShortcutconstQString& -->
<h3 class="fn" id="stringWithAppendedShortcut"><a name="stringWithAppendedShortcut"></a><code>[pure virtual] </code><span class="type">QString</span> Command::<span class="name">stringWithAppendedShortcut</span>(const <span class="type">QString</span> &amp;<i>string</i>) const</h3>
<p>Returns the <i>string</i> with an appended representation of the keyboard shortcut that is currently assigned to this Command.</p>
<!-- @@@stringWithAppendedShortcut -->
<!-- $$$toolButtonWithAppendedShortcut[overload1]$$$toolButtonWithAppendedShortcutQAction*Command* -->
<h3 class="fn" id="toolButtonWithAppendedShortcut"><a name="toolButtonWithAppendedShortcut"></a><code>[static] </code><span class="type">QToolButton</span> *Command::<span class="name">toolButtonWithAppendedShortcut</span>(<span class="type">QAction</span> *<i>action</i>, <span class="type"><a href="core-command.html">Command</a></span> *<i>cmd</i>)</h3>
<!-- @@@toolButtonWithAppendedShortcut -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2017 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br>    Qt and respective logos are trademarks of The Qt Company Ltd.     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
